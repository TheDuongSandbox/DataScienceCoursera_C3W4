# Getting and Cleaning Data Assignment

## The Project

This project is a assignment of [the Getting and Cleaning Data course](https://www.coursera.org/learn/data-cleaning/home/welcome).

The goal is to merge [the provided data set](https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip), select the desired measurements and provide a tidy data set along with [the accompanying code book](#the-codebook).

---

## The CodeBook

The [CodeBook.md](CodeBook.md) was generated by the [generate_code_book.R](#generate_code_book.R) then the `Unit` was added in after.

---

## What The Scripts Do

### run_analysis.R

1. Read the `data/activity_labels.txt` file to get the activity info.
1. Read the `data/features.txt` file to get the feature info.
1. Read the `train` and `test` data set; and for each of them  do the following:
   1. Get the accompanying subject data (`subject_<dataSet>.txt`)
   1. Get the activity data (`data/y_<dataSet>.txt`) and join with the activity info.
   1. Get the measurement data (`data/X_<dataSet>.txt`), select the desired one and transform the variable names (using the [transform_names.R](#transform_names.R) script.
   1. Join the subject, activity and measurement data.
1. Join the 2 resulted data set together.
1. Group them by the `Activity` and `SubjectId` values.
1. Get mean of all the other variables in the dataset.
1. Write the outcome to the `output/tidydata.txt`.

### transform_names.R

This method takes a vector of `character` and do the following `sub`

Pattern           | Replacement
----------------- | -----------------
`^t`              | `Timed`
`^f`              | `Frequency`,
`Acc`             | `Accelerometer`
`Gyro`            | `Gyroscope`
`Mag`             | `Magnitude`
`\\.mean`         | `\\.Mean`
`\\.std`          | `\\.StandardDevication`
`(\\w+)\\.(\\w+)` | `The\\2Of\\1`
`\\.+(\\w)$`      | `-\\1`
`\\.+$`           | (empty string)


### generate_code_book.R

This script read the output file (`output/tidydata.txt`) created by the [run_analysis.R](#run_analysis.R) script and utilize the `memisc` package to create the `output/CodeBook.md` file.